<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Grammar Sensei</title>
  </head>
  <body>
    <h1>Grammar Sensei</h1>
    <textarea id="input">学生じゃなくて</textarea>
    <button type="button" onclick="analyze()">Analyze</button>
    <div id="output"></div>
    <script>

const rules = [[7,"わない",111,"う"],[7,"かない",111,"く"],[7,"がない",111,"ぐ"],[7,"さない",111,"す"],[7,"たない",111,"つ"],[7,"なない",111,"ぬ"],[7,"ばない",111,"ぶ"],[7,"まない",111,"む"],[7,"らない",111,"る"],[7,"ない",112,"る"],[2,"うです",111,"う"],[2,"くです",111,"く"],[2,"ぐです",111,"ぐ"],[2,"すです",111,"す"],[2,"つです",111,"つ"],[2,"ぬです",111,"ぬ"],[2,"ぶです",111,"ぶ"],[2,"むです",111,"む"],[2,"るです",111,"る"],[2,"るです",112,"る"],[8,"った",111,"う"],[8,"いた",111,"く"],[8,"いだ",111,"ぐ"],[8,"した",111,"す"],[8,"った",111,"つ"],[8,"んだ",111,"ぬ"],[8,"んだ",111,"ぶ"],[8,"んだ",111,"む"],[8,"った",111,"る"],[8,"た",112,"る"],[9,"って",111,"う"],[9,"いて",111,"く"],[9,"いで",111,"ぐ"],[9,"して",111,"す"],[9,"って",111,"つ"],[9,"んで",111,"ぬ"],[9,"んで",111,"ぶ"],[9,"んで",111,"む"],[9,"って",111,"る"],[9,"て",112,"る"],[13,"えば",111,"う"],[13,"けば",111,"く"],[13,"げば",111,"ぐ"],[13,"せば",111,"す"],[13,"てば",111,"つ"],[13,"ねば",111,"ぬ"],[13,"べば",111,"ぶ"],[13,"めば",111,"む"],[13,"れば",111,"る"],[13,"れば",112,"る"],[10,"える",111,"う"],[10,"ける",111,"く"],[10,"げる",111,"ぐ"],[10,"せる",111,"す"],[10,"てる",111,"つ"],[10,"ねる",111,"ぬ"],[10,"べる",111,"ぶ"],[10,"める",111,"む"],[10,"れる",111,"る"],[10,"れる",112,"る"],[10,"うことができる",111,"う"],[10,"くことができる",111,"く"],[10,"ぐことができる",111,"ぐ"],[10,"すことができる",111,"す"],[10,"つことができる",111,"つ"],[10,"ぬことができる",111,"ぬ"],[10,"ぶことができる",111,"ぶ"],[10,"むことができる",111,"む"],[10,"ることができる",111,"る"],[10,"ることができる",112,"る"],[10,"うことできる",111,"う"],[10,"くことできる",111,"く"],[10,"ぐことできる",111,"ぐ"],[10,"すことできる",111,"す"],[10,"つことできる",111,"つ"],[10,"ぬことできる",111,"ぬ"],[10,"ぶことできる",111,"ぶ"],[10,"むことできる",111,"む"],[10,"ることできる",111,"る"],[10,"ることできる",112,"る"],[63,"うことがある",111,"う"],[63,"くことがある",111,"く"],[63,"ぐことがある",111,"ぐ"],[63,"すことがある",111,"す"],[63,"つことがある",111,"つ"],[63,"ぬことがある",111,"ぬ"],[63,"ぶことがある",111,"ぶ"],[63,"むことがある",111,"む"],[63,"ることがある",111,"る"],[63,"ることがある",112,"る"],[63,"うことある",111,"う"],[63,"くことある",111,"く"],[63,"ぐことある",111,"ぐ"],[63,"すことある",111,"す"],[63,"つことある",111,"つ"],[63,"ぬことある",111,"ぬ"],[63,"ぶことある",111,"ぶ"],[63,"むことある",111,"む"],[63,"ることある",111,"る"],[63,"ることある",112,"る"],[11,"られる",112,"る"],[12,"われる",111,"う"],[12,"かれる",111,"く"],[12,"がれる",111,"ぐ"],[12,"される",111,"す"],[12,"たれる",111,"つ"],[12,"なれる",111,"ぬ"],[12,"ばれる",111,"ぶ"],[12,"まれる",111,"む"],[14,"え",111,"う"],[14,"け",111,"く"],[14,"げ",111,"ぐ"],[14,"せ",111,"す"],[14,"て",111,"つ"],[14,"ね",111,"ぬ"],[14,"べ",111,"ぶ"],[14,"め",111,"む"],[14,"れ",111,"る"],[14,"ろ",112,"る"],[15,"おう",111,"う"],[15,"こう",111,"く"],[15,"ごう",111,"ぐ"],[15,"そう",111,"す"],[15,"とう",111,"つ"],[15,"のう",111,"ぬ"],[15,"ぼう",111,"ぶ"],[15,"もう",111,"む"],[15,"ろう",111,"る"],[15,"よう",112,"る"],[16,"",112,"る"],[16,"い",111,"う"],[16,"き",111,"く"],[16,"ぎ",111,"ぐ"],[16,"し",111,"す"],[16,"ち",111,"つ"],[16,"に",111,"ぬ"],[16,"び",111,"ぶ"],[16,"み",111,"む"],[16,"り",111,"る"],[18,"わせる",111,"う"],[18,"かせる",111,"く"],[18,"がせる",111,"ぐ"],[18,"させる",111,"す"],[18,"たせる",111,"つ"],[18,"なせる",111,"ぬ"],[18,"ばせる",111,"ぶ"],[18,"ませる",111,"む"],[18,"らせる",111,"る"],[18,"させる",112,"る"],[20,"ったら",111,"う"],[20,"いたら",111,"く"],[20,"いだら",111,"ぐ"],[20,"したら",111,"す"],[20,"ったら",111,"つ"],[20,"んだら",111,"ぬ"],[20,"んだら",111,"ぶ"],[20,"んだら",111,"む"],[20,"ったら",111,"る"],[20,"たら",112,"る"],[99,"ったり",111,"う"],[99,"いたり",111,"く"],[99,"いだり",111,"ぐ"],[99,"したり",111,"す"],[99,"ったり",111,"つ"],[99,"んだり",111,"ぬ"],[99,"んだり",111,"ぶ"],[99,"んだり",111,"む"],[99,"ったり",111,"る"],[99,"たり",112,"る"],[30,"わず",111,"う"],[30,"かず",111,"く"],[30,"がず",111,"ぐ"],[30,"さず",111,"す"],[30,"たず",111,"つ"],[30,"なず",111,"ぬ"],[30,"ばず",111,"ぶ"],[30,"まず",111,"む"],[30,"らず",111,"る"],[30,"ず",112,"る"],[55,"うべき",111,"う"],[55,"くべき",111,"く"],[55,"ぐべき",111,"ぐ"],[55,"すべき",111,"す"],[55,"つべき",111,"つ"],[55,"ぬべき",111,"ぬ"],[55,"ぶべき",111,"ぶ"],[55,"むべき",111,"む"],[55,"るべき",111,"る"],[55,"るべき",112,"る"],[30,"せず",111,"する"],[16,"し",111,"する"],[9,"して",111,"する"],[8,"した",111,"する"],[7,"しない",111,"する"],[15,"しよう",111,"する"],[18,"させる",111,"する"],[12,"される",111,"する"],[14,"しろ",111,"する"],[14,"せよ",111,"する"],[13,"すれば",111,"する"],[20,"したら",111,"する"],[55,"すべき",111,"する"],[17,"うそう",111,"う"],[17,"くそう",111,"く"],[17,"ぐそう",111,"ぐ"],[17,"すそう",111,"す"],[17,"つそう",111,"つ"],[17,"ぬそう",111,"ぬ"],[17,"ぶそう",111,"ぶ"],[17,"むそう",111,"む"],[17,"るそう",111,"る"],[17,"るそう",112,"る"],[27,"うな",111,"う"],[27,"くな",111,"く"],[27,"ぐな",111,"ぐ"],[27,"すな",111,"す"],[27,"つな",111,"つ"],[27,"ぬな",111,"ぬ"],[27,"ぶな",111,"ぶ"],[27,"むな",111,"む"],[27,"るな",111,"る"],[27,"るな",112,"る"],[28,"うまい",111,"う"],[28,"くまい",111,"く"],[28,"ぐまい",111,"ぐ"],[28,"すまい",111,"す"],[28,"つまい",111,"つ"],[28,"ぬまい",111,"ぬ"],[28,"ぶまい",111,"ぶ"],[28,"むまい",111,"む"],[28,"るまい",111,"る"],[28,"るまい",112,"る"],[66,"うことにする",111,"う"],[66,"くことにする",111,"く"],[66,"ぐことにする",111,"ぐ"],[66,"すことにする",111,"す"],[66,"つことにする",111,"つ"],[66,"ぬことにする",111,"ぬ"],[66,"ぶことにする",111,"ぶ"],[66,"むことにする",111,"む"],[66,"ることにする",111,"る"],[66,"ることにする",112,"る"],[67,"うことになる",111,"う"],[67,"くことになる",111,"く"],[67,"ぐことになる",111,"ぐ"],[67,"すことになる",111,"す"],[67,"つことになる",111,"つ"],[67,"ぬことになる",111,"ぬ"],[67,"ぶことになる",111,"ぶ"],[67,"むことになる",111,"む"],[67,"ることになる",111,"る"],[67,"ることになる",112,"る"],[65,"うこと",111,"う"],[65,"くこと",111,"く"],[65,"ぐこと",111,"ぐ"],[65,"すこと",111,"す"],[65,"つこと",111,"つ"],[65,"ぬこと",111,"ぬ"],[65,"ぶこと",111,"ぶ"],[65,"むこと",111,"む"],[65,"ること",111,"る"],[65,"ること",112,"る"],[68,"う前",111,"う"],[68,"く前",111,"く"],[68,"ぐ前",111,"ぐ"],[68,"す前",111,"す"],[68,"つ前",111,"つ"],[68,"ぬ前",111,"ぬ"],[68,"ぶ前",111,"ぶ"],[68,"む前",111,"む"],[68,"る前",111,"る"],[68,"る前",112,"る"],[52,"うだろう",111,"う"],[52,"くだろう",111,"く"],[52,"ぐだろう",111,"ぐ"],[52,"すだろう",111,"す"],[52,"つだろう",111,"つ"],[52,"ぬだろう",111,"ぬ"],[52,"ぶだろう",111,"ぶ"],[52,"むだろう",111,"む"],[52,"るだろう",111,"る"],[52,"るだろう",112,"る"],[69,"うが早いか",111,"う"],[69,"くが早いか",111,"く"],[69,"ぐが早いか",111,"ぐ"],[69,"すが早いか",111,"す"],[69,"つが早いか",111,"つ"],[69,"ぬが早いか",111,"ぬ"],[69,"ぶが早いか",111,"ぶ"],[69,"むが早いか",111,"む"],[69,"るが早いか",111,"る"],[69,"るが早いか",112,"る"],[70,"うみたい",111,"う"],[70,"くみたい",111,"く"],[70,"ぐみたい",111,"ぐ"],[70,"すみたい",111,"す"],[70,"つみたい",111,"つ"],[70,"ぬみたい",111,"ぬ"],[70,"ぶみたい",111,"ぶ"],[70,"むみたい",111,"む"],[70,"るみたい",111,"る"],[70,"るみたい",112,"る"],[71,"うらしい",111,"う"],[71,"くらしい",111,"く"],[71,"ぐらしい",111,"ぐ"],[71,"すらしい",111,"す"],[71,"つらしい",111,"つ"],[71,"ぬらしい",111,"ぬ"],[71,"ぶらしい",111,"ぶ"],[71,"むらしい",111,"む"],[71,"るらしい",111,"る"],[71,"るらしい",112,"る"],[101,"うほうがいい",111,"う"],[101,"くほうがいい",111,"く"],[101,"ぐほうがいい",111,"ぐ"],[101,"すほうがいい",111,"す"],[101,"つほうがいい",111,"つ"],[101,"ぬほうがいい",111,"ぬ"],[101,"ぶほうがいい",111,"ぶ"],[101,"むほうがいい",111,"む"],[101,"るほうがいい",111,"る"],[101,"るほうがいい",112,"る"],[102,"うよう",111,"う"],[102,"くよう",111,"く"],[102,"ぐよう",111,"ぐ"],[102,"すよう",111,"す"],[102,"つよう",111,"つ"],[102,"ぬよう",111,"ぬ"],[102,"ぶよう",111,"ぶ"],[102,"むよう",111,"む"],[102,"るよう",111,"る"],[102,"るよう",112,"る"],[103,"うはず",111,"う"],[103,"くはず",111,"く"],[103,"ぐはず",111,"ぐ"],[103,"すはず",111,"す"],[103,"つはず",111,"つ"],[103,"ぬはず",111,"ぬ"],[103,"ぶはず",111,"ぶ"],[103,"むはず",111,"む"],[103,"るはず",111,"る"],[103,"るはず",112,"る"],[110,"うべく",111,"う"],[110,"くべく",111,"く"],[110,"ぐべく",111,"ぐ"],[110,"すべく",111,"す"],[110,"つべく",111,"つ"],[110,"ぬべく",111,"ぬ"],[110,"ぶべく",111,"ぶ"],[110,"むべく",111,"む"],[110,"るべく",111,"る"],[110,"るべく",112,"る"],[14,"来い",111,"来る"],[16,"なさい",111,"なさる"],[16,"為さい",111,"為さる"],[16,"いらっしゃい",111,"いらっしゃる"],[16,"居らっしゃい",111,"居らっしゃる"],[16,"おっしゃい",111,"おっしゃる"],[16,"仰い",111,"仰る"],[114,"う",111,"う"],[114,"く",111,"く"],[114,"ぐ",111,"ぐ"],[114,"す",111,"す"],[114,"つ",111,"つ"],[114,"ぬ",111,"ぬ"],[114,"ぶ",111,"ぶ"],[114,"む",111,"む"],[114,"る",111,"る"],[114,"る",112,"る"],[8,"かった",113,"い"],[7,"くない",113,"い"],[7,"くはない",113,"い"],[9,"くて",113,"い"],[31,"く",113,"い"],[13,"ければ",113,"い"],[20,"かったら",113,"い"],[17,"いそう",113,"い"],[2,"いです",113,"い"],[63,"いことがある",113,"い"],[63,"いことある",113,"い"],[65,"いこと",113,"い"],[15,"かろう",113,"い"],[55,"いべき",113,"い"],[17,"いそう",113,"い"],[25,"そう",113,"い"],[52,"いだろう",113,"い"],[63,"いことがある",113,"い"],[63,"いことある",113,"い"],[66,"いことにする",113,"い"],[65,"いこと",113,"い"],[114,"い",113,"い"],[70,"いみたい",113,"い"],[71,"いらしい",113,"い"],[102,"いよう",113,"い"],[103,"いはず",113,"い"],[17,"たそう",8,"た"],[17,"んだそう",8,"んだ"],[23,"たあげく",8,"た"],[23,"んだあげく",8,"んだ"],[23,"た挙句",8,"た"],[23,"んだ挙句",8,"んだ"],[65,"たこと",8,"た"],[65,"んだこと",8,"んだ"],[67,"たことになる",8,"た"],[67,"んだことになる",8,"んだ"],[70,"たみたい",8,"た"],[70,"んだみたい",8,"んだ"],[100,"たばかり",8,"た"],[100,"んだばかり",8,"んだ"],[101,"たほうがいい",8,"た"],[101,"んだほうがいい",8,"んだ"],[114,"た",8,"た"],[114,"んだ",8,"んだ"],[102,"たよう",8,"た"],[102,"んだよう",8,"んだ"],[103,"たはず",8,"た"],[103,"んだはず",8,"んだ"],[100,"たばっか",8,"た"],[100,"んだばっか",8,"んだ"],[1,"ます",16,""],[3,"ません",16,""],[25,"そう",16,""],[24,"たい",16,""],[29,"なさい",16,""],[29,"な",16,""],[73,"はしない",16,""],[74,"ながら",16,""],[75,"がち",16,""],[76,"かた",16,""],[76,"方",16,""],[78,"やすい",16,""],[77,"にくい",16,""],[80,"すぎる",16,""],[80,"過ぎる",16,""],[79,"すぎ",16,""],[79,"過ぎ",16,""],[81,"に",16,""],[106,"つつある",16,""],[107,"がたい",16,""],[107,"難い",16,""],[108,"次第",16,""],[108,"しだい",16,""],[109,"やがる",16,""],[36,"てください",9,"て"],[36,"でください",9,"で"],[115,"てない",9,"て"],[115,"でない",9,"で"],[33,"ている",9,"て"],[33,"でいる",9,"で"],[116,"てる",9,"て"],[116,"でる",9,"で"],[34,"てある",9,"て"],[34,"である",9,"で"],[35,"ておる",9,"て"],[35,"でおる",9,"で"],[35,"とる",9,"て"],[35,"どる",9,"で"],[56,"ておく",9,"て"],[56,"とく",9,"て"],[56,"でおく",9,"で"],[56,"どく",9,"で"],[54,"てもらう",9,"て"],[54,"でもらう",9,"で"],[57,"てくれる",9,"て"],[57,"でくれる",9,"で"],[58,"てあげる",9,"て"],[58,"であげる",9,"で"],[32,"ては",9,"て"],[32,"では",9,"で"],[60,"ても",9,"て"],[60,"でも",9,"で"],[61,"ていい",9,"て"],[61,"でいい",9,"で"],[83,"ていけない",9,"て"],[83,"でいけない",9,"で"],[83,"てはいけない",9,"て"],[83,"ではいけない",9,"で"],[83,"てならない",9,"て"],[83,"でならない",9,"で"],[83,"てはならない",9,"て"],[83,"ではならない",9,"で"],[84,"てだめ",9,"て"],[84,"でだめ",9,"で"],[84,"てはだめ",9,"て"],[84,"ではだめ",9,"で"],[84,"て駄目",9,"て"],[84,"で駄目",9,"で"],[84,"ては駄目",9,"て"],[84,"では駄目",9,"で"],[86,"てしまう",9,"て"],[86,"でしまう",9,"で"],[88,"てみる",9,"て"],[88,"でみる",9,"で"],[89,"てほしい",9,"て"],[89,"でほしい",9,"で"],[89,"て欲しい",9,"て"],[89,"で欲しい",9,"で"],[90,"てから",9,"て"],[90,"でから",9,"で"],[91,"てくる",9,"て"],[91,"でくる",9,"で"],[92,"ていく",9,"て"],[92,"でいく",9,"で"],[92,"てく",9,"て"],[92,"でく",9,"で"],[94,"てすまない",9,"て"],[94,"ですまない",9,"で"],[114,"ください",36,"ください"],[113,"ない",115,"ない"],[114,"べく",110,"べく"],[111,"やがる",109,"やがる"],[62,"次第だ",108,"次第"],[62,"しだいだ",108,"しだい"],[114,"次第",108,"次第"],[114,"しだい",108,"しだい"],[113,"がたい",107,"がたい"],[113,"難い",107,"難い"],[34,"つつある",106,"つつある"],[114,"く",31,"く"],[104,"くなる",31,"く"],[111,"なる",104,"なる"],[114,"はず",103,"はず"],[62,"はずだ",103,"はず"],[114,"よう",102,"よう"],[62,"ようだ",102,"よう"],[111,"かまう",93,"かまう"],[8,"いった",92,"いく"],[111,"いく",92,"いく"],[114,"く",92,"く"],[8,"きた",91,"くる"],[20,"きたら",91,"くる"],[14,"こい",91,"くる"],[7,"こない",91,"くる"],[15,"こよう",91,"くる"],[11,"こられる",91,"くる"],[18,"こさせる",91,"くる"],[15,"こよう",91,"くる"],[16,"き",91,"くる"],[62,"からだ",90,"から"],[114,"から",90,"から"],[113,"欲しい",89,"欲しい"],[113,"ほしい",89,"ほしい"],[112,"みる",88,"みる"],[87,"ちゃう",86,"てしまう"],[98,"じゃう",86,"でしまう"],[97,"ちまう",86,"てしまう"],[96,"じまう",86,"でしまう"],[111,"しまう",86,"しまう"],[111,"ちゃう",87,"ちゃう"],[111,"じゃう",98,"じゃう"],[111,"ちまう",97,"ちまう"],[111,"じまう",96,"じまう"],[114,"え",14,"え"],[114,"け",14,"け"],[114,"げ",14,"げ"],[114,"せ",14,"せ"],[114,"て",14,"て"],[114,"ね",14,"ね"],[114,"べ",14,"べ"],[114,"め",14,"め"],[114,"れ",14,"れ"],[114,"ろ",14,"ろ"],[114,"に",81,"に"],[114,"な",27,"な"],[114,"なさい",29,"なさい"],[114,"な",29,"な"],[113,"やすい",78,"やすい"],[113,"にくい",77,"にくい"],[112,"すぎる",80,"すぎる"],[112,"過ぎる",80,"過ぎる"],[62,"すぎだ",79,"すぎ"],[62,"過ぎだ",79,"過ぎ"],[114,"すぎ",79,"すぎ"],[114,"過ぎ",79,"過ぎ"],[62,"かただ",76,"かた"],[62,"方だ",76,"方"],[114,"かた",76,"かた"],[114,"方",76,"方"],[114,"がち",75,"がち"],[62,"がちだ",75,"がち"],[7,"はしない",73,"はしない"],[111,"がる",72,"がる"],[113,"らしい",71,"らしい"],[62,"みたいだ",70,"みたい"],[114,"みたい",70,"みたい"],[69,"がはやいか",69,"が早いか"],[62,"まえだ",68,"前"],[62,"前だ",68,"前"],[111,"ある",63,"ある"],[37,"ぬ",7,"ない"],[21,"なきゃ",7,"ない"],[22,"なくちゃ",7,"ない"],[26,"ないで",7,"ない"],[25,"なさそう",7,"ない"],[82,"なくていけない",7,"ない"],[82,"なくてならない",7,"ない"],[82,"なくてはいけない",7,"ない"],[82,"なくてはならない",7,"ない"],[82,"なければいけない",7,"ない"],[82,"なければならない",7,"ない"],[85,"なくてだめ",7,"ない"],[85,"なくてはだめ",7,"ない"],[85,"なければだめ",7,"ない"],[85,"なくて駄目",7,"ない"],[85,"なくては駄目",7,"ない"],[85,"なければ駄目",7,"ない"],[113,"ない",7,"ない"],[62,"だめだ",85,"だめ"],[62,"駄目だ",85,"駄目"],[114,"だめ",85,"だめ"],[114,"駄目",85,"駄目"],[113,"ならない",82,"ならない"],[113,"いけない",82,"いけない"],[66,"ぬことにする",37,"ぬ"],[67,"ぬことになる",37,"ぬ"],[65,"ぬこと",37,"ぬ"],[70,"ぬみたい",37,"ぬ"],[114,"ぬ",37,"ぬ"],[61,"方がいい",101,"ほうがいい"],[61,"ほうが良い",101,"ほうがいい"],[61,"方が良い",101,"ほうがいい"],[62,"ばかりだ",100,"ばかり"],[114,"ばかり",100,"ばかり"],[114,"て",9,"て"],[114,"で",9,"で"],[95,"すみません",94,"すまない"],[3,"すみません",95,"すみません"],[62,"だめだ",84,"だめ"],[62,"駄目だ",84,"駄目"],[114,"だめ",84,"だめ"],[114,"駄目",84,"駄目"],[113,"いけない",83,"いけない"],[113,"ならない",83,"ならない"],[61,"はいい",32,"は"],[7,"はない",32,"は"],[33,"はいる",32,"は"],[34,"はある",32,"は"],[61,"もいい",60,"も"],[93,"もかまう",60,"も"],[61,"ばいい",13,"ば"],[112,"る",10,"る"],[112,"られる",11,"られる"],[112,"れる",12,"れる"],[112,"せる",18,"せる"],[19,"す",18,"せる"],[111,"す",19,"す"],[61,"よい",61,"いい"],[61,"良い",61,"いい"],[113,"よい",61,"よい"],[113,"良い",61,"良い"],[113,"いい",61,"いい"],[113,"たい",24,"たい"],[72,"たがる",24,"たい"],[61,"たらいい",20,"たら"],[111,"たりする",99,"たり"],[61,"ばいい",13,"ば"],[61,"なきゃいい",21,"なきゃ"],[114,"なきゃ",21,"なきゃ"],[61,"なくちゃいい",22,"なくちゃ"],[114,"なくちゃ",22,"なくちゃ"],[2,"です",62,"だ"],[7,"じゃない",62,"だ"],[7,"ではない",62,"だ"],[52,"だろう",62,"だ"],[64,"なの",62,"だ"],[8,"だった",62,"だ"],[105,"である",62,"だ"],[111,"である",105,"である"],[114,"だ",62,"だ"],[114,"です",2,"です"],[62,"べきだ",55,"べき"],[65,"べきこと",55,"べき"],[67,"べきことになる",55,"べき"],[114,"べき",55,"べき"],[62,"そうだ",17,"そう"],[114,"そう",17,"そう"],[62,"そうだ",25,"そう"],[65,"そうなこと",25,"そう"],[114,"そう",25,"そう"],[5,"ました",1,"ます"],[9,"まして",1,"ます"],[6,"ましょう",1,"ます"],[20,"ましたら",1,"ます"],[114,"ます",1,"ます"],[4,"ませんでした",3,"ません"],[20,"ませんでしたら",3,"ません"],[114,"ません",3,"ません"],[7,"ない",34,"ある"],[111,"ある",34,"ある"],[112,"いる",33,"いる"],[112,"る",116,"る"],[51,"でしょう",52,"だろう"],[114,"だろう",52,"だろう"],[114,"でしょう",51,"でしょう"],[53,"いただく",54,"もらう"],[111,"もらう",54,"もらう"],[111,"いただく",53,"いただく"],[14,"くれ",57,"くれる"],[112,"くれる",57,"くれる"],[112,"あげる",58,"あげる"],[56,"置く",56,"おく"],[111,"く",56,"く"],[62,"ことだ",65,"こと"],[114,"こと",65,"こと"],[111,"ことにする",66,"ことにする"],[111,"ことになる",67,"ことになる"],[38,"わ",114,""],[64,"の",114,""],[64,"ん",114,""],[39,"よ",114,""],[40,"ね",114,""],[41,"な",114,""],[42,"ぞ",114,""],[43,"ぜ",114,""],[44,"か",114,""],[45,"が",114,""],[46,"さ",114,""],[49,"けど",114,""],[49,"けれど",114,""],[49,"けれども",114,""],[50,"のに",114,""],[47,"まで",114,""],[48,"から",114,""],[39,"のよ",64,"の"],[40,"のね",64,"の"],[44,"のか",64,"の"],[46,"のさ",64,"の"],[62,"のだ",64,"の"],[62,"んだ",64,"ん"],[38,"までわ",47,"まで"],[39,"までよ",47,"まで"],[40,"までね",47,"まで"],[46,"までさ",47,"まで"],[62,"までだ",47,"まで"],[38,"からわ",48,"から"],[39,"からよ",48,"から"],[40,"からね",48,"から"],[46,"からさ",48,"から"],[62,"からだ",48,"から"],[39,"わよ",38,"わ"],[40,"わね",38,"わ"],[40,"よね",39,"よ"],[41,"よな",39,"よ"],[39,"かよ",44,"か"],[41,"かな",44,"か"],[40,"かね",44,"か"],[40,"けどね",49,"けど"],[40,"けれどね",49,"けれど"],[40,"けれども",49,"けれども"],[41,"けどな",49,"けど"],[41,"けれどな",49,"けれど"],[41,"けれどもな",49,"けれども"],[40,"のにね",50,"のに"],[41,"のにな",50,"のに"]];

const formNames = ['-','ます Polite','です Polite','ません Polite Negative','ませんでした Polite Negative Past','ました Polite past','ましょう Polite Volitional','ない Negative','Plain Past','て・で Form','Potential Form','Potential Or Passive Form','Passive Form','ば Conditional Form','Imperative Form','Volitional Form','ます Stem','そう Hearsay Form','Causative Form','Shortened Causative Form','たら Conditional Form','なきゃ Casual "Must Do"','なくちゃ Casual "Must Do"','あげく・挙句 After Great Trouble','たい Want To Do','そう Appearance Form','ないで Without Doing','な Negative Command (Do Not Do)','まい Negative Volitional','なさい Polite But Firm Command','ず Without Doing','く Adverbification','は Particle','ている・でいる Continuing State/Result','てある・である Form','ておる・でおる Form','ください Polite Request','ぬ Archaic Negative','わ Feminine Emphasis Particle','よ Emphasis Particle','ね Agreement Seeking Particle','な Masculine Emphasis Particle','ぞ Rough/Casual Emphasis Particle','ぜ Rough/Casual Emphasis Particle','か Question Particle','が But','さ Emphasis/Filler Particle','まで Until','から Since, From','けど・けれど・けれども But','のに Even Though, Despite','でしょう Polite "Probably"','だろう Probably','いただく Polite/Humble Receive Favor','もらう Casual Receive Favor','べき Must Do','ておく・でおく To Do Something In Preparation','くれる To Give (Toward Speaker)','あげる To Give (Away From Speaker)','は Particle','も Particle (Even, Even If)','いい Good, Okay','だ Copula','ことがある Occasional Occurance ・ It Happens Sometimes','の Explanatory Particle','こと Nominalizer','ことにする Decide To Do ・ Settle On Doing','ことになる Has Been Decided ・ Has Become The Case','前・まえ Before Doing','が早いか As Soon As','みたい Looks Like ・ Seems Like','らしい Looks Like ・ Seems Like','がる Appearing To Want','ます Stem しない Strong Emphasis On Not Doing','ながら While','がち Prone To ・ Unfortunate Tendency','方・かた Way Of Doing','にくい Difficult To Do','やすい Easy To Do','過ぎ・すぎ Overdoing','過ぎる・すぎる Overdoing','ます Stem に Going To Do','なくて・なければ + いけない・ならない Must Do','ていけない・てならない Must Not Do','だめ・駄目 Bad ・ Should Not','なくて・なければ + だめ・駄目 Must Do','しまう To Do Unfortunately ・ To Do Completely','ちゃう Casual Contraction Of てしまう','みる To Try To Do','ほしい・欲しい To Want Someone To Do Something','から Since, After','てくる・でくる Gradual Change (Toward Speaker)','ていく・でいく Gradual Change (Away From Speaker)','かまう To Mind ・ To Care','すまない Sorry!','すみません Polite Sorry','じまう Casual Contraction Of でしまう','ちまう Casual Contraction Of てしまう','じゃう Casual Contraction Of でしまう','たり Et Cetera','たばかり・だばかり To Have Just Done','ほうがいい Better ・ Preferable','よう Appearance ・ It Seems That Way','はず Expectation','なる To Become','である Formal ・ Literary Copula','つつある In The Process Of','がたい Difficult To Do (Due To Emotional Reasons)','次第・しだい Immediately After','やがる Shows Contempt For The Action Being Done','べく In Order To','godan verb','ichidan verb','adjective','sentence ending particles (silent)','Negative ある or いる','てる・でる Continuing State/Result'];

function applyRule(word, rule) {
  return word.substring(0, word.length - rule[1].length) + rule[3];
}

function unconjugateRecursive(word, form, path) {

  if (form == 111 || form == 112) { // godan or ichidan verb
    return [path];
  }

  var finishedPaths = [];

  for (let rule of rules) {
    if ((form == 0 || form == rule[0]) && word.endsWith(rule[1])) {

      if (path.length > 0) {
        const prev = path[path.length - 1];
        if ((prev[0] == 10 && form == 111 && rule[2] == 22) ||
            (prev[0] == 19 && form == 112 && rule[2] == 116) ||
            (prev[0] == 41 && form == 114 && rule[2] == 14) ||
            (prev[0] == 48 && form == 114 && rule[2] == 9)) { 
          continue; 
        }
      } else {
        if (rule[1] == rule[3]) {
          continue;
        }
      }

      const newWord = applyRule(word, rule);
      const newForm = rule[2];
      const newPath = path.concat([rule]);
      const recPaths = unconjugateRecursive(newWord, newForm, newPath);
      finishedPaths = finishedPaths.concat(recPaths);
    }
  }

  return finishedPaths;
}

const input = document.getElementById('input');
const output = document.getElementById('output');

function analyze() {
  const word = input.value;
  const paths = unconjugateRecursive(word, 0, []);
  var html = '';
  for (let path of paths) {
    var w = word;
    for (let rule of path) {
      html += w + ' [' + formNames[rule[0]] + '] -&gt; ';
      w = applyRule(w, rule);
      html += w + ' [' + formNames[rule[2]] + ']<br />';
    }
    html += '<br />';
  }
  output.innerHTML = html;
}

    </script>
  </body>
</html>